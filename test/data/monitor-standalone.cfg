process MONITOR = { 

     module ecalEBunpacker = EcalDCCUnpackingModule{ }

     module ecalUncalibHitMaker = EcalWeightUncalibRecHitProducer{
#     module ecalUncalibHitMaker = EcalAnalFitUncalibRecHitProducer{
       string digiProducer   = "ecalEBunpacker"
       string EBdigiCollection = ""
       string EEdigiCollection = ""
       string EBhitCollection  = "EcalUncalibRecHitsEB"
       string EEhitCollection  = ""
       untracked int32 nMaxPrintout = 0
     }

     module ecalRecHitMaker = EcalRecHitProducer{
       string uncalibRecHitProducer = "ecalUncalibHitMaker"
       string EBuncalibRecHitCollection = "EcalUncalibRecHitsEB"
       string EEuncalibRecHitCollection = ""
       string EBrechitCollection = "EcalRecHitsEB"
       string EErechitCollection = ""
       untracked int32 nMaxPrintout = 0
     }

     module ecalMonitorModule = EcalBarrelMonitorModule{
#       untracked string outputFile = 'EcalBarrelMonitorModule.root'
#       untracked bool verbose = true
       untracked bool enableMonitorDaemon = false
#       untracked bool enableEventDisplay = true
#       untracked string runType = 'COSMIC'
#       untracked string runType = 'LASER'
       untracked string runType = 'PEDESTAL'
#       untracked string runType = 'TEST_PULSE'
        untracked int32 runNumber = 000006100
     }

     module ecalOccupancyTask = EBOccupancyTask{ }
     module ecalIntegrityTask = EBIntegrityTask{ }
     module ecalCosmicTask = EBCosmicTask{ }
     module ecalBeamHodoTask = EBBeamHodoTask{ }
     module ecalLaserTask = EBLaserTask{ }
     module ecalPedestalOnlineTask = EBPedestalOnlineTask{ }
     module ecalPedestalTask = EBPedestalTask{ } 
     module ecalTestPulseTask = EBTestPulseTask{ }

     module ecalMonitorClient = EcalBarrelMonitorClient{
#       untracked string outputFile = 'EcalBarrelMonitorClient.root'
#       untracked string dbName = "ecalh4db"
#       untracked string dbHostName = "pccmsecdb.cern.ch"
#       untracked string dbUserName = "test06"
#       untracked string dbPassword = "oratest06"
       untracked string location = "H4"
       untracked string baseHtmlDir = "."
#       untracked bool collateSources = true
       untracked bool cloneME = false
#       untracked bool enableSubRun = true
#       untracked bool enableExit = false
       untracked bool enableMonitorDaemon = false
#       untracked bool verbose = true
     }

     path p = { ecalEBunpacker,
                ecalUncalibHitMaker, ecalRecHitMaker,
                ecalMonitorModule,
                ecalOccupancyTask,
                ecalIntegrityTask,
                ecalCosmicTask, ecalBeamHodoTask,
                ecalLaserTask,
                ecalPedestalOnlineTask, ecalPedestalTask,
                ecalTestPulseTask,
                ecalMonitorClient }

     source = DAQEcalTBInputService{ 
#       untracked int32 maxEvents = 150
#---
#       untracked vstring fileNames = { 'file:/tmp/H4-000006100-SM5-COSMIC-STD' }
#       untracked bool isBinary = false
#--
#       untracked vstring fileNames = { 'file:/tmp/H4-000006187-SM5-LASER-STD' }
#       untracked bool isBinary = false
#---
       untracked vstring fileNames = { 'file:/tmp/H4-000008203-SM5-PEDESTAL-STD' }
       untracked bool isBinary = false
#---
#       untracked vstring fileNames = { 'file:/tmp/H4-000008205-SM5-TEST_PULSE-MGPA' }
#       untracked bool isBinary = false
#---
#       untracked vstring fileNames = { 'file:/tmp/H4-000008206-SM5-COSMIC-STD' }
#       untracked bool isBinary = false
#---
#       untracked vstring fileNames = { 'file:/tmp/H4-000015188-SM5-COSMIC-STD' }
#       untracked bool isBinary = true
#---
#       untracked vstring fileNames = { 'file:/tmp/H4-000015292-SM5-LASER-STD' }
#       untracked bool isBinary = true
     }

     es_source = EcalTrivialConditionRetriever{ }
#     es_source = PoolDBESSource{ VPSet toGet = {
#                                         { string record = "EcalPedestalsRcd"
#                                           string tag = "EcalPedestals_2008_test"},
#                                         { string record = "EcalWeightRecAlgoWeightsRcd"
#                                           string tag = "EcalWeightRecAlgoWeights_h4_sm5"}
#                                       }
#       bool loadAll = true
#       string connect = "sqlite_file:ecalcalib.db"
#       string timetype = "runnumber"
#     }

     service = MessageLogger{
       vstring destinations = { "cout" }
#       vstring debugModules = { "ecalEBunpacker" }
#       vstring debugModules = { "ecalMonitorModule" }
#       vstring debugModules = { "*" }
       vstring categories = { "EcalTBInputService",
                              "EcalBarrelMonitor"
                            }
       PSet cout = { string threshold = "INFO"
                     PSet default = { int32 limit = 0 }
                     PSet EcalTBInputService = { int32 limit = 0 }
                     PSet EcalBarrelMonitor = { int32 limit = 10 }
                     bool noTimeStamps = true
                     bool noLineBreaks = true
                   }
     }

     service = DaqMonitorROOTBackEnd{ }

}
